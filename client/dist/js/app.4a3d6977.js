(function(e){function t(t){for(var a,r,i=t[0],o=t[1],c=t[2],u=0,p=[];u<i.length;u++)r=i[u],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&p.push(s[r][0]),s[r]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);d&&d(t);while(p.length)p.shift()();return l.push.apply(l,c||[]),n()}function n(){for(var e,t=0;t<l.length;t++){for(var n=l[t],a=!0,i=1;i<n.length;i++){var o=n[i];0!==s[o]&&(a=!1)}a&&(l.splice(t--,1),e=r(r.s=n[0]))}return e}var a={},s={app:0},l=[];function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],o=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var d=o;l.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var a=n("85ec"),s=n.n(a);s.a},"0a87":function(e,t,n){"use strict";var a=n("148d"),s=n.n(a);s.a},"148d":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[n("v-container",[n("v-toolbar-title",[e._v("Appointment System")])],1)],1),n("v-main",[n("v-container",[e.alert?n("v-row",{staticClass:"mt-3"},[n("v-alert",{staticClass:"mx-4",attrs:{type:e.alert_type}},[e._v(" "+e._s(e.alert)+" ")])],1):e._e(),n("v-row",{staticClass:"mt-4"},[n("v-col",{attrs:{xl:"4","offset-xl":"2",lg:"6","align-self":"start"}},[n("DatePicker",{attrs:{min:e.min,loading:e.loading,date:e.selected_date,timezone:e.selected_timezone,setDate:e.setDate,setTimezone:e.setTimezone,setSlots:e.setSlots}}),n("div",{staticClass:"py-4"}),n("Display",{staticClass:"my-5",attrs:{date:e.selected_date,time:e.selected_time,timezone:e.selected_timezone,clearFields:e.clearFields,bookSlot:e.bookSlot,loading:e.loading}})],1),n("v-col",{attrs:{xl:"3",lg:"5","offset-lg":"1"}},[n("Slots",{attrs:{slots:e.slots,date:e.selected_date,timezone:e.selected_timezone,loading:e.loading,setTime:e.setTime}})],1)],1)],1)],1)],1)},l=[],r=(n("fb6a"),n("d3b7"),n("2909")),i=(n("96cf"),n("1da1")),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-date-picker",{attrs:{"show-current":!1,min:e.min,disabled:e.loading,width:"100%"},on:{change:e.setDate}}),n("div",{staticClass:"mt-5"},[n("v-select",{attrs:{outlined:"",value:e.timezone,items:e.items,disabled:!e.date&&!0,label:"Select Timezone"},on:{change:e.setTimezone}})],1),n("div",[n("v-btn",{staticClass:"darken-2 subtitle-1 blue--text text--lighten-5",attrs:{color:"blue",ripple:!0,disabled:!e.date||!e.timezone&&!0,loading:e.loading},on:{click:e.setSlots}},[e._v("Search ")])],1)],1)},c=[],d={name:"DatePicker",data:function(){return{items:["Asia/Kolkata","America/New_York","Australia/Sydney","Asia/Tokyo","Europe/London"]}},props:{min:String,date:String,timezone:String,loading:Boolean,setSlots:Function,setDate:Function,setTimezone:Function}},u=d,p=n("2877"),m=n("6544"),f=n.n(m),v=n("8336"),b=n("2e4b"),g=n("b974"),_=Object(p["a"])(u,o,c,!1,null,null,null),h=_.exports;f()(_,{VBtn:v["a"],VDatePicker:b["a"],VSelect:g["a"]});var y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[n("thead",{staticClass:"blue darken-2"},[n("tr",[n("th",{staticClass:"text-center subtitle-1 blue--text text--lighten-5"},[e._v(" Available Slots (30 mins) ")])])]),n("tbody",[e.loading?n("tr",[n("v-progress-linear",{attrs:{color:"blue darken-2",indeterminate:"",rounded:"",height:"6"}})],1):e._e(),e.date?e._e():n("tr",[n("td",[e._v("Please select a date.")])]),e.date&&!e.timezone?n("tr",[n("td",[e._v("Please select a timezone.")])]):e._e(),e.date&&e.timezone&&!e.slots.length?n("tr",[n("td",[e._v("Click Search to fetch all Available Slots.")])]):e._e(),e._l(e.slots,(function(t){return n("tr",{key:t},[n("td",{staticClass:"text-center",on:{click:e.setTime}},[e._v(e._s(t))])])}))],2)]},proxy:!0}])})},x=[],S={name:"Slots",props:{loading:Boolean,date:String,timezone:String,slots:Array,setTime:Function}},k=S,C=(n("0a87"),n("8e36")),z=n("1f4f"),T=Object(p["a"])(k,y,x,!1,null,"bb930e72",null),w=T.exports;f()(T,{VProgressLinear:C["a"],VSimpleTable:z["a"]});var j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"d-flex justify-space-between"},[n("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[n("thead",{staticClass:"blue darken-2"},[n("tr",[n("th",{staticClass:"text-center subtitle-1 blue--text text--lighten-5"},[e._v(" Selected Date ")])])]),n("tbody",[n("tr",{staticClass:"text-center"},[n("td",[e._v(e._s(e.date?e.date:"-"))])])])]},proxy:!0}])}),n("v-simple-table",{staticClass:"mx-2",scopedSlots:e._u([{key:"default",fn:function(){return[n("thead",{staticClass:"blue darken-2"},[n("tr",[n("th",{staticClass:"text-center subtitle-1 blue--text text--lighten-5"},[e._v(" Selected Timezone ")])])]),n("tbody",[n("tr",{staticClass:"text-center"},[n("td",[e._v(e._s(e.timezone?e.timezone:"-"))])])])]},proxy:!0}])}),n("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[n("thead",{staticClass:"blue darken-2"},[n("tr",[n("th",{staticClass:"text-center subtitle-1 blue--text text--lighten-5"},[e._v(" Selected Time ")])])]),n("tbody",[n("tr",{staticClass:"text-center"},[n("td",[e._v(e._s(e.time?e.time:"-"))])])])]},proxy:!0}])})],1),n("div",{staticClass:"my-5 d-flex text-center"},[n("v-btn",{staticClass:"darken-2 subtitle-1 blue--text text--lighten-5",attrs:{color:"green",ripple:!0,disabled:!e.time||!e.date,loading:e.loading},on:{click:e.bookSlot}},[e._v(" Book Slot ")]),n("v-spacer"),n("v-btn",{staticClass:"darken-2 subtitle-1 blue--text text--lighten-5",attrs:{color:"red",ripple:!0,disabled:e.loading},on:{click:e.clearFields}},[e._v(" Cancel ")])],1)])},O=[],A={name:"Display",props:{loading:Boolean,date:String,time:String,timezone:String,clearFields:Function,bookSlot:Function}},P=A,V=n("2fa4"),D=Object(p["a"])(P,j,O,!1,null,null,null),F=D.exports;f()(D,{VBtn:v["a"],VSimpleTable:z["a"],VSpacer:V["a"]});var L={name:"App",components:{DatePicker:h,Slots:w,Display:F},data:function(){return{slots:[],selected_date:null,selected_time:null,selected_timezone:null,loading:!1,alert:null,alert_type:null,min:(new Date).toISOString().slice(0,10)}},methods:{setLoading:function(){this.loading=!this.loading},setDate:function(e){this.selected_date=e},setTime:function(e){this.selected_time=e.target.innerHTML},setTimezone:function(e){this.selected_timezone=e},clearFields:function(){this.selected_date=null,this.selected_time=null,this.selected_timezone=null,this.slots=[]},setAlert:function(e,t){var n=this;this.alert=e,this.alert_type=t,setTimeout((function(){n.alert=null,n.alert_type=null}),3e3)},setSlots:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.setLoading(),t.prev=1,t.next=4,fetch("/settimezone",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({selected_date:e.selected_date,selected_timezone:e.selected_timezone})});case 4:return n=t.sent,t.next=7,n.json();case 7:a=t.sent,500==n.status?e.setAlert(a.msg,"error"):e.slots=Object(r["a"])(a.data),t.next=16;break;case 11:t.prev=11,t.t0=t["catch"](1),e.setAlert("Unable to connect","error"),console.log(t.t0),e.clearFields();case 16:e.setLoading();case 17:case"end":return t.stop()}}),t,null,[[1,11]])})))()},bookSlot:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.setLoading(),t.prev=1,t.next=4,fetch("/createevent",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({selected_date:e.selected_date,selected_time:e.selected_time})});case 4:return n=t.sent,t.next=7,n.json();case 7:a=t.sent,500==n.status?e.setAlert(a.msg,"error"):e.setAlert(a.msg,"success"),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](1),e.setAlert("Unable to connect","error");case 14:e.clearFields(),e.setLoading();case 16:case"end":return t.stop()}}),t,null,[[1,11]])})))()}}},B=L,M=(n("034f"),n("0798")),E=n("7496"),R=n("40dc"),$=n("62ad"),J=n("a523"),N=n("f6c4"),U=n("0fd9"),H=n("2a7f"),I=Object(p["a"])(B,s,l,!1,null,null,null),K=I.exports;f()(I,{VAlert:M["a"],VApp:E["a"],VAppBar:R["a"],VCol:$["a"],VContainer:J["a"],VMain:N["a"],VRow:U["a"],VToolbarTitle:H["a"]});var Y=n("f309");a["a"].use(Y["a"]);var q=new Y["a"]({});a["a"].config.productionTip=!1,new a["a"]({vuetify:q,render:function(e){return e(K)}}).$mount("#app")},"85ec":function(e,t,n){}});
//# sourceMappingURL=app.4a3d6977.js.map