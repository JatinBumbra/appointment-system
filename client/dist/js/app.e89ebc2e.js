(function(e){function t(t){for(var a,r,i=t[0],o=t[1],c=t[2],u=0,p=[];u<i.length;u++)r=i[u],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&p.push(s[r][0]),s[r]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);d&&d(t);while(p.length)p.shift()();return l.push.apply(l,c||[]),n()}function n(){for(var e,t=0;t<l.length;t++){for(var n=l[t],a=!0,i=1;i<n.length;i++){var o=n[i];0!==s[o]&&(a=!1)}a&&(l.splice(t--,1),e=r(r.s=n[0]))}return e}var a={},s={app:0},l=[];function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],o=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var d=o;l.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var a=n("85ec"),s=n.n(a);s.a},"0a87":function(e,t,n){"use strict";var a=n("148d"),s=n.n(a);s.a},"148d":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[n("v-container",[n("v-toolbar-title",[e._v("Appointment System")])],1)],1),n("v-main",[n("v-container",[e.alert?n("v-row",{staticClass:"mt-3"},[n("v-alert",{staticClass:"mx-4",attrs:{type:e.alert_type}},[e._v(" "+e._s(e.alert)+" ")])],1):e._e(),n("Events",{attrs:{dialog:e.dialog,setModal:e.setModal}}),n("v-row",{staticClass:"mt-4"},[n("v-col",{attrs:{xl:"4","offset-xl":"2",lg:"6","align-self":"start"}},[n("DatePicker",{attrs:{min:e.min,loading:e.loading,date:e.selected_date,timezone:e.selected_timezone,setDate:e.setDate,setTimezone:e.setTimezone,setSlots:e.setSlots,setModal:e.setModal}}),n("div",{staticClass:"py-4"}),n("Display",{staticClass:"my-5",attrs:{date:e.selected_date,time:e.selected_time,timezone:e.selected_timezone,clearFields:e.clearFields,bookSlot:e.bookSlot,loading:e.loading}})],1),n("v-col",{attrs:{xl:"3",lg:"5","offset-lg":"1"}},[n("Slots",{attrs:{slots:e.slots,date:e.selected_date,timezone:e.selected_timezone,loading:e.loading,setTime:e.setTime}})],1)],1)],1)],1)],1)},l=[],r=(n("fb6a"),n("d3b7"),n("2909")),i=(n("96cf"),n("1da1")),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-date-picker",{attrs:{"show-current":!1,min:e.min,disabled:e.loading,width:"100%"},on:{change:e.setDate}}),n("div",{staticClass:"mt-5"},[n("v-select",{attrs:{outlined:"",value:e.timezone,items:e.items,disabled:!e.date&&!0,label:"Select Timezone"},on:{change:e.setTimezone}})],1),n("div",{staticClass:"d-flex justify-space-between"},[n("v-btn",{staticClass:"darken-2 subtitle-1 blue--text text--lighten-5",attrs:{color:"blue",ripple:!0,disabled:!e.date||!e.timezone&&!0,loading:e.loading},on:{click:e.setSlots}},[e._v("Search ")]),n("v-btn",{staticClass:"darken-2 subtitle-1 blue--text text--lighten-5",attrs:{color:"blue",ripple:!0},on:{click:e.setModal}},[e._v(" View Events ")])],1)],1)},c=[],d={name:"DatePicker",data:function(){return{items:["Asia/Kolkata","America/New_York","Australia/Sydney","Asia/Tokyo","Europe/London"]}},props:{min:String,date:String,timezone:String,loading:Boolean,setSlots:Function,setDate:Function,setTimezone:Function,setModal:Function}},u=d,p=n("2877"),v=n("6544"),m=n.n(v),f=n("8336"),b=n("2e4b"),_=n("b974"),g=Object(p["a"])(u,o,c,!1,null,null,null),h=g.exports;m()(g,{VBtn:f["a"],VDatePicker:b["a"],VSelect:_["a"]});var x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[n("thead",{staticClass:"blue darken-2"},[n("tr",[n("th",{staticClass:"text-center subtitle-1 blue--text text--lighten-5"},[e._v(" Available Slots (30 mins) ")])])]),n("tbody",[e.loading?n("tr",[n("v-progress-linear",{attrs:{color:"blue darken-2",indeterminate:"",rounded:"",height:"6"}})],1):e._e(),e.date?e._e():n("tr",[n("td",[e._v("Please select a date.")])]),e.date&&!e.timezone?n("tr",[n("td",[e._v("Please select a timezone.")])]):e._e(),e.date&&e.timezone&&!e.slots.length?n("tr",[n("td",[e._v("Click Search to fetch all Available Slots.")])]):e._e(),e._l(e.slots,(function(t){return n("tr",{key:t},[n("td",{staticClass:"text-center",on:{click:e.setTime}},[e._v(e._s(t))])])}))],2)]},proxy:!0}])})},y=[],k={name:"Slots",props:{loading:Boolean,date:String,timezone:String,slots:Array,setTime:Function}},S=k,C=(n("0a87"),n("8e36")),w=n("1f4f"),T=Object(p["a"])(S,x,y,!1,null,"bb930e72",null),z=T.exports;m()(T,{VProgressLinear:C["a"],VSimpleTable:w["a"]});var j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"d-flex justify-space-between"},[n("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[n("thead",{staticClass:"blue darken-2"},[n("tr",[n("th",{staticClass:"text-center subtitle-1 blue--text text--lighten-5"},[e._v(" Selected Date ")])])]),n("tbody",[n("tr",{staticClass:"text-center"},[n("td",[e._v(e._s(e.date?e.date:"-"))])])])]},proxy:!0}])}),n("v-simple-table",{staticClass:"mx-2",scopedSlots:e._u([{key:"default",fn:function(){return[n("thead",{staticClass:"blue darken-2"},[n("tr",[n("th",{staticClass:"text-center subtitle-1 blue--text text--lighten-5"},[e._v(" Selected Timezone ")])])]),n("tbody",[n("tr",{staticClass:"text-center"},[n("td",[e._v(e._s(e.timezone?e.timezone:"-"))])])])]},proxy:!0}])}),n("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[n("thead",{staticClass:"blue darken-2"},[n("tr",[n("th",{staticClass:"text-center subtitle-1 blue--text text--lighten-5"},[e._v(" Selected Time ")])])]),n("tbody",[n("tr",{staticClass:"text-center"},[n("td",[e._v(e._s(e.time?e.time:"-"))])])])]},proxy:!0}])})],1),n("div",{staticClass:"my-5 d-flex text-center"},[n("v-btn",{staticClass:"darken-2 subtitle-1 blue--text text--lighten-5",attrs:{color:"green",ripple:!0,disabled:!e.time||!e.date,loading:e.loading},on:{click:e.bookSlot}},[e._v(" Book Slot ")]),n("v-spacer"),n("v-btn",{staticClass:"darken-2 subtitle-1 blue--text text--lighten-5",attrs:{color:"red",ripple:!0,disabled:e.loading},on:{click:e.clearFields}},[e._v(" Cancel ")])],1)])},O=[],V={name:"Display",props:{loading:Boolean,date:String,time:String,timezone:String,clearFields:Function,bookSlot:Function}},A=V,D=n("2fa4"),P=Object(p["a"])(A,j,O,!1,null,null,null),F=P.exports;m()(P,{VBtn:f["a"],VSimpleTable:w["a"],VSpacer:D["a"]});var M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"","max-width":"700px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-card-text",[n("v-row",[n("v-btn",{staticClass:"darken-2 subtitle-1 blue--text text--lighten-5",attrs:{color:"red",ripple:!0,absolute:"",right:"",top:""},on:{click:e.handleClose}},[e._v(" Close ")])],1),n("v-row",{staticClass:"mt-5"},[n("v-col",{staticClass:"mt-5",attrs:{lg:"6"}},[n("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,s=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{label:"Select Start Date","prepend-icon":"mdi-calendar",readonly:""},model:{value:e.start_date,callback:function(t){e.start_date=t},expression:"start_date"}},"v-text-field",s,!1),a))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[n("v-date-picker",{attrs:{min:e.min},on:{input:e.setEvents},model:{value:e.start_date,callback:function(t){e.start_date=t},expression:"start_date"}})],1)],1),n("v-col",{staticClass:"mt-5",attrs:{lg:"6"}},[n("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,s=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{label:"Select End Date","prepend-icon":"mdi-calendar",readonly:""},model:{value:e.end_date,callback:function(t){e.end_date=t},expression:"end_date"}},"v-text-field",s,!1),a))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[n("v-date-picker",{attrs:{min:e.start_date},on:{input:e.setEvents},model:{value:e.end_date,callback:function(t){e.end_date=t},expression:"end_date"}})],1)],1)],1),e.loading?n("div",{staticClass:"text-center mb-5"},[n("v-progress-circular",{attrs:{size:50,color:"primary",indeterminate:""}})],1):e._e(),e.events.length?n("v-row",{staticClass:"blue darken-2 blue--text text--lighten-5"},[n("v-col",{attrs:{lg:"3"}},[e._v("Date")]),n("v-col",{attrs:{lg:"7"}},[e._v("Events")])],1):e._e(),e._l(e.events,(function(t,a){return n("v-row",{key:a},[n("v-col",{attrs:{lg:"3"}},[e._v(e._s(t.date))]),n("v-col",{attrs:{lg:"7"}},e._l(t.events.events,(function(t,a){return n("span",{key:a},[e._v(" "+e._s(t.slice(-9))+", ")])})),0)],1)}))],2)],1)],1)},E=[],B={name:"Events",data:function(){return{min:(new Date).toISOString().slice(0,10),menu:!1,menu2:!1,start_date:null,end_date:null,loading:!1,events:[]}},props:{dialog:Boolean,setModal:Function},methods:{handleClose:function(){this.setModal(),this.start_date=this.end_date=null,this.events=[]},setEvents:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.menu=!1,e.menu2=!1,e.start_date&&e.end_date){t.next=4;break}return t.abrupt("return");case 4:return e.loading=!0,t.prev=5,t.next=8,fetch("/getevents",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({start_date:e.start_date,end_date:e.end_date})});case 8:return n=t.sent,t.next=11,n.json();case 11:a=t.sent,500==n.status&&e.setAlert(a.msg,"error"),e.events=a.data,t.next=20;break;case 16:t.prev=16,t.t0=t["catch"](5),e.setAlert("Unable to connect","error"),console.log(t.t0);case 20:e.loading=!1;case 21:case"end":return t.stop()}}),t,null,[[5,16]])})))()}}},L=B,R=n("b0af"),$=n("99d9"),J=n("62ad"),N=n("169a"),U=n("e449"),I=n("490a"),H=n("0fd9"),K=n("8654"),Y=Object(p["a"])(L,M,E,!1,null,null,null),q=Y.exports;m()(Y,{VBtn:f["a"],VCard:R["a"],VCardText:$["a"],VCol:J["a"],VDatePicker:b["a"],VDialog:N["a"],VMenu:U["a"],VProgressCircular:I["a"],VRow:H["a"],VTextField:K["a"]});var G={name:"App",components:{DatePicker:h,Slots:z,Display:F,Events:q},data:function(){return{slots:[],selected_date:null,selected_time:null,selected_timezone:null,loading:!1,dialog:!1,alert:null,alert_type:null,min:(new Date).toISOString().slice(0,10)}},methods:{setLoading:function(){this.loading=!this.loading},setModal:function(){this.dialog=!this.dialog},setDate:function(e){this.selected_date=e},setTime:function(e){this.selected_time=e.target.innerHTML},setTimezone:function(e){this.selected_timezone=e},clearFields:function(){this.selected_date=null,this.selected_time=null,this.selected_timezone=null,this.slots=[]},setAlert:function(e,t){var n=this;this.alert=e,this.alert_type=t,setTimeout((function(){n.alert=null,n.alert_type=null}),3e3)},setSlots:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.setLoading(),t.prev=1,t.next=4,fetch("/settimezone",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({selected_date:e.selected_date,selected_timezone:e.selected_timezone})});case 4:return n=t.sent,t.next=7,n.json();case 7:a=t.sent,500==n.status?e.setAlert(a.msg,"error"):e.slots=Object(r["a"])(a.data),t.next=16;break;case 11:t.prev=11,t.t0=t["catch"](1),e.setAlert("Unable to connect","error"),console.log(t.t0),e.clearFields();case 16:e.setLoading();case 17:case"end":return t.stop()}}),t,null,[[1,11]])})))()},bookSlot:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.setLoading(),t.prev=1,t.next=4,fetch("/createevent",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({selected_date:e.selected_date,selected_time:e.selected_time})});case 4:return n=t.sent,t.next=7,n.json();case 7:a=t.sent,500==n.status?e.setAlert(a.msg,"error"):e.setAlert(a.msg,"success"),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](1),e.setAlert("Unable to connect","error");case 14:e.clearFields(),e.setLoading();case 16:case"end":return t.stop()}}),t,null,[[1,11]])})))()}}},Q=G,W=(n("034f"),n("0798")),X=n("7496"),Z=n("40dc"),ee=n("a523"),te=n("f6c4"),ne=n("2a7f"),ae=Object(p["a"])(Q,s,l,!1,null,null,null),se=ae.exports;m()(ae,{VAlert:W["a"],VApp:X["a"],VAppBar:Z["a"],VCol:J["a"],VContainer:ee["a"],VMain:te["a"],VRow:H["a"],VToolbarTitle:ne["a"]});var le=n("f309");a["a"].use(le["a"]);var re=new le["a"]({});a["a"].config.productionTip=!1,new a["a"]({vuetify:re,render:function(e){return e(se)}}).$mount("#app")},"85ec":function(e,t,n){}});
//# sourceMappingURL=app.e89ebc2e.js.map